(this.webpackJsonpreport=this.webpackJsonpreport||[]).push([[0],{315:function(e,t,n){},320:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(45),i=n.n(r),s=n(179),o=n(25),l=n(24),u=n(322),d=n(66),j=n(22),b=n(84),h=n(326),m=n(7);function O(e,t){return e.length>t?e.substring(0,t)+"...":e}var p=[{title:"Module",dataIndex:"name",key:"name",render:function(e){return Object(m.jsx)("a",{children:e})}},{title:"Duration",dataIndex:"duration",key:"duration",render:function(e){return Object(m.jsxs)("p",{children:[e," ",Object(m.jsx)("small",{children:"ms"})]})},sorter:{compare:function(e,t){return e.duration-t.duration},multiple:1}},{title:"Entry Type",dataIndex:"entryType",key:"entryType"},{title:"Interaction",dataIndex:"interaction",key:"interaction"},{title:"Metadata",dataIndex:"metadata",key:"metadata",render:function(e){return console.log(e.size),Object(m.jsx)("div",{children:Object(m.jsx)("p",{children:e&&e.name?Object(m.jsx)(b.a,{placement:"bottom",title:e.name,children:Object(m.jsx)("span",{style:{cursor:"pointer"},children:O(e.name,60)})}):"None"})})}},{title:"Priority",key:"priority",dataIndex:"priority",render:function(e){return Object(m.jsx)(m.Fragment,{children:e>150?Object(m.jsx)(h.a,{color:"red",children:"High"},"high"):e>100?Object(m.jsx)(h.a,{color:"yellow",children:"Medium"},"high"):Object(m.jsx)(h.a,{color:"green",children:"Low"},"high")})}}],f=[{title:"Module",dataIndex:"name",key:"name",render:function(e){return Object(m.jsx)("a",{href:"#".concat(e.org),children:e.format})}},{title:"Time to Interactive",dataIndex:"duration",key:"duration",render:function(e){return Object(m.jsxs)("p",{children:[e," ",Object(m.jsx)("small",{children:"ms"})]})},sorter:{compare:function(e,t){return e.duration-t.duration},multiple:1}},{title:"Long Tasks upto",dataIndex:"longtask",key:"longtask",render:function(e){return Object(m.jsxs)("p",{children:[e," ",Object(m.jsx)("small",{children:"ms"})]})},sorter:{compare:function(e,t){return e.longtask-t.longtask},multiple:2}},{title:"Resource",dataIndex:"resource",key:"resource",render:function(e){return e.map((function(e){return Object(m.jsx)(b.a,{placement:"bottom",title:e,children:Object(m.jsx)("p",{style:{cursor:"pointer"},children:O(e,60)})})}))}},{title:"Interaction",dataIndex:"interaction",key:"interaction"},{title:"Action Name",key:"actionName",dataIndex:"actionName"}],x=n(323),y=n(325),g=n(181),k=n(95),v=n(327),S=k.a.Option,C=function(e){var t=e.input,n=e.fileDates,c=e.setFileName,r=e.file,i=Object(a.useState)([]),s=Object(l.a)(i,2),o=s[0],u=s[1],d=Object(a.useState)([]),j=Object(l.a)(d,2),b=j[0],h=j[1],O=Object(a.useState)([]),p=Object(l.a)(O,2),f=p[0],x=p[1],y=Object(a.useState)([]),C=Object(l.a)(y,2),E=C[0],F=C[1],D=Object(a.useState)(""),I=Object(l.a)(D,2),N=I[0],T=I[1],A=Object(a.useState)(""),M=Object(l.a)(A,2),w=M[0],R=M[1],B=Object(a.useState)(!1),z=Object(l.a)(B,2),L=z[0],H=z[1];Object(a.useEffect)((function(){if(t){u(["#9E81EB","#40A3F5","#4CD2E0","#CBD756","#87BD66","#CFE8FC","#426AEA","#C8B9EE","#9FD1FA","#79DFEA","#DFE5A4","#B9D6A7","#C099C6","#91A9F7","#E3DCF6","#CFE8FC","#BCEFF4","#EFF2D1","#DCEAD3","#E1CDE4","#C8D4FB"]);var e=new Set;t.forEach((function(t){e.add(t.name.format.split("-")[0].trim())})),F(Array.from(e)),T(Array.from(e)[0]),R(n[0])}}),[t]),Object(a.useEffect)((function(){var e=t.filter((function(e){return e.name.format.includes(N)})),n=e.map((function(e){return L?e.longtask:e.duration})),a=e.map((function(e){return e.name.format.split("-")[1].trim()}));h(n),x(a)}),[N,t,L]);var J={labels:f,datasets:[{label:L?"Maximum long task duration in ms":"Time to Interactive in ms",data:b,borderColor:o,pointBackgroundColor:o,pointBorderColor:o,pointRadius:5,borderWidth:1,tension:0}]};return Object(m.jsxs)("div",{children:[Object(m.jsx)(k.a,{placeholder:"Select Filter",value:N,style:{width:"300px"},onChange:function(e){T(e)},children:E.map((function(e){return Object(m.jsx)(S,{value:e,children:e})}))}),Object(m.jsx)(k.a,{placeholder:"Select Filter",value:w,style:{width:"300px"},onChange:function(e){c("".concat(r,"(").concat(e,").json"))},children:n.map((function(e){return Object(m.jsx)(S,{value:"".concat(e),children:e},"".concat(r,"-").concat(e))}))}),Object(m.jsxs)("span",{style:{padding:"10px"},children:[Object(m.jsx)(v.a,{onChange:function(){H(!L)}})," Longtask"]}),Object(m.jsx)("h3",{style:{padding:"10px",textAlign:"center"},children:N}),Object(m.jsx)(g.a,{data:J,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},type:"Line"})]})},E=y.a.TabPane,F=[/app.getsentry.com/,/dap.sprinklr.com/,/user\/session\/details/,/.js/],D=function(e){var t=e.data,n=t.data,c=t.durations,r=e.setRuns,i=e.currNumRun,s=e.fileDates,o=e.file,u=e.setFileName,d=Object(a.useState)([]),b=Object(l.a)(d,2),h=b[0],O=b[1],g=Object(a.useState)([]),k=Object(l.a)(g,2),v=k[0],S=k[1];return Object(a.useEffect)((function(){var e=[];n&&n.length>0&&(e=n.map((function(e,t){var n=Object.keys(e)[0],a=e[n],c=[];if(a&&a.length>0){var r,i=Object(j.a)(a);try{var s=function(){var e=r.value;F.some((function(t){return t.test(e.name)}))?0===c.length&&c.push({key:"".concat(t,"-").concat(Math.random()),name:n}):c.push({key:"".concat(t,"-").concat(e.startTime),name:n,entryType:e.entryType,duration:Math.ceil(e.duration),priority:Math.ceil(e.duration),metadata:{name:"resource"===e.entryType?e.name.replace("https://champagne.sprinklr.com",""):"None",size:"resource"===e.entryType?e.transferSize:0},interaction:"Click"})};for(i.s();!(r=i.n()).done;)s()}catch(o){i.e(o)}finally{i.f()}}else c.push({key:"".concat(t,"-").concat(Math.random()),name:n});return c}))),O(e)}),[n]),Object(a.useEffect)((function(){if(c&&0!==Object.keys(c).length){var e=[],t=function(e,t){return e.time<t.time?-1:1},n=function(n){var a=h.filter((function(e){return e[0].name===n}))[0],s=0,o=[];if(a){a.forEach((function(e){"longtask"===e.entryType&&(s=Math.max(s,e.duration)),"resource"===e.entryType&&o.push({name:e.metadata.name,time:e.metadata.time})})),o.sort(t);var l=o.slice(0,5).reduce((function(e,t){return e.push(t.name),e}),new Array);o=l}e.push({name:{org:n,format:"".concat(n)},longtask:s,resource:o,duration:c[n].time,interaction:c[n].interaction,actionName:c[n].actionName}),i||r(c[n].numRun)};for(var a in c)n(a);S(e)}}),[h,c]),Object(m.jsxs)("div",{className:"card-container",children:[Object(m.jsx)(C,{input:v,fileDates:s,setFileName:u,file:o}),Object(m.jsxs)(y.a,{type:"card",children:[Object(m.jsx)(E,{tab:"Summary",children:Object(m.jsx)("div",{children:Object(m.jsx)(x.a,{columns:f,dataSource:v,pagination:!1})})},"1"),Object(m.jsx)(E,{tab:"Detail Report",children:h&&h.length>0?h.map((function(e){return Object(m.jsxs)(a.Fragment,{children:[Object(m.jsxs)("h3",{id:"".concat(e[0].name),children:["Duration: ",c&&Object.keys(c).length>0&&c[e[0].name].time,Object(m.jsx)("small",{children:"ms"})]}),Object(m.jsx)(x.a,{columns:p,dataSource:e})]},"".concat(e[0].name))})):null},"2")]})]})},I=n(48),N=n(324),T=n(65),A=n(177),M=n.n(A).a.create({baseURL:" http://13.232.71.146:8118"}),w=k.a.Option,R={wrapperCol:{offset:8,span:16}},B=function(e){var t=e.updateTableData,n=e.setModule,c=e.filename,r=N.a.useForm(),i=Object(l.a)(r,1)[0],s=Object(a.useState)("inline"),o=Object(l.a)(s,1)[0],u=Object(a.useState)("1"),d=Object(l.a)(u,2),j=d[0],b=d[1],h=Object(a.useState)(["longtask","resource"]),O=Object(l.a)(h,2),p=O[0],f=O[1];function x(){t({data:[],durations:{}}),c.length>0&&M.post("http://localhost:8118/data",{run:j,entryType:JSON.stringify(p),filename:c}).then((function(e){var a=e.data;t(a),n(c)})).catch((function(e){console.log(e)}))}Object(a.useEffect)((function(){console.log(c),x()}),[c]);var y="horizontal"===o?{labelCol:{span:4},wrapperCol:{span:14}}:null;return Object(m.jsx)(a.Fragment,{children:Object(m.jsxs)(N.a,Object(I.a)(Object(I.a)({},y),{},{layout:o,form:i,initialValues:{layout:o},children:[Object(m.jsx)(N.a.Item,{label:"Run",name:"run",children:Object(m.jsxs)(k.a,{defaultValue:"1",style:{width:120},onChange:function(e){b(e)},children:[Object(m.jsx)(w,{value:"1",children:"1"}),Object(m.jsx)(w,{value:"2",children:"2"}),Object(m.jsx)(w,{value:"3",children:"3"})]})}),Object(m.jsx)(N.a.Item,{label:"Entry Type",name:"entryType",children:Object(m.jsxs)(k.a,{defaultValue:["longtask","resource"],style:{width:"300px"},onChange:function(e){f(e)},mode:"multiple",size:"large",children:[Object(m.jsx)(w,{value:"longtask",children:"Long Tasks"}),Object(m.jsx)(w,{value:"resource",children:"Resources"})]})}),Object(m.jsx)(N.a.Item,Object(I.a)(Object(I.a)({},R),{},{children:Object(m.jsx)(T.a,{type:"primary",htmlType:"submit",onClick:x,children:"Submit"})}))]}))})},z=u.a.Header,L=u.a.Content,H=u.a.Sider;d.a.SubMenu;var J=function(){var e=Object(a.useState)({data:[],durations:{}}),t=Object(l.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(null),i=Object(l.a)(r,2),s=i[0],o=i[1],j=Object(a.useState)(null),b=Object(l.a)(j,2),h=b[0],O=b[1],p=Object(a.useState)(""),f=Object(l.a)(p,2),x=f[0],y=f[1],g=Object(a.useState)({}),k=Object(l.a)(g,2),v=k[0],S=k[1];return Object(a.useEffect)((function(){M.get("http://localhost:8118/fileNames").then((function(e){var t=e.data;t&&(S(function(e){var t={};return e.forEach((function(e){var n=e.split("(");if(t.hasOwnProperty(n[0])){var a=n[1].split(")")[0];t[n[0]].push(a)}else{var c=n[1].split(")")[0];t[n[0]]=[c]}})),t}(t)),y(t[0]))})).catch((function(e){console.log(e)}))}),[]),Object(m.jsxs)(u.a,{children:[Object(m.jsxs)(z,{className:"header",children:[Object(m.jsx)("div",{className:"logo"}),Object(m.jsx)(d.a,{theme:"dark",mode:"horizontal",children:Object(m.jsx)(d.a.Item,{children:"Measurement of Interactive Slowness"},"1")})]}),Object(m.jsx)(L,{style:{padding:"0 50px"},children:Object(m.jsxs)(u.a,{className:"site-layout-background",style:{padding:"24px 0"},children:[Object(m.jsx)(H,{className:"site-layout-background",width:200,children:Object(m.jsx)(d.a,{mode:"inline",style:{height:"100%"},children:Object.keys(v).map((function(e){return Object(m.jsx)(d.a.Item,{onClick:function(){o("".concat(e,"(").concat(v[e][0],")")),y("".concat(e,"(").concat(v[e][0],").json"))},children:e},"".concat(e))}))})}),Object(m.jsxs)(L,{style:{padding:"0 24px",minHeight:280},children:[Object(m.jsx)(u.a,{className:"site-layout-background",style:{padding:"24px 0"},children:Object(m.jsxs)(L,{style:{padding:"0 24px"},children:[Object(m.jsx)(B,{updateTableData:function(e){c(e)},setModule:function(e){return o(e)},filename:x}),Object(m.jsxs)("h3",{children:["Module Name : ",s&&s.split("(")[0]]}),Object(m.jsxs)("h3",{children:["#Run :",h," "]}),Object(m.jsxs)("h3",{children:["Date: ",s&&s.split("(")[1].split(")")[0]]})]})}),Object(m.jsx)(u.a,{className:"site-layout-background",style:{padding:"24px 0"},children:s&&Object(m.jsx)(L,{style:{padding:"0 24px",minHeight:280},children:Object(m.jsx)(D,{data:n,setRuns:function(e){O(e)},currNumRun:h,setFileName:function(e){y(e)},fileDates:v[s.split("(")[0]],file:s.split("(")[0]})})})]})]})})]})};n(315);var P=function(){return Object(m.jsx)("div",{children:Object(m.jsx)(s.a,{children:Object(m.jsx)(o.a,{exact:!0,path:"/",component:J})})})};n(319);i.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(P,{})}),document.getElementById("root"))}},[[320,1,2]]]);
//# sourceMappingURL=main.6d254846.chunk.js.map